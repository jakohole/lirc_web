var exec = require('child_process').exec;

exports = module.exports = Mode2;

function Mode2 () {};

//prototype

Mode2.prototype.m = function(callback){
	var command = this._raw();
	return exec(command, callback);
}

Mode2.prototype.mout = function(outfile, callback){
	var command = this._raw(outfile);
	return exec(command, callback);
}

//Internal methods
Mode2.prototype._m = function(){
	//if(!outfile) outfile = '';

	return 'sudo mode2 -d /dev/lirc0 -m ';
};

Mode2.prototype._mout = function(outfile){
	if(!outfile) outfile = 'out';

	return 'sudo mode2 -d /dev/lirc0 -m > ' + outfile;
};
